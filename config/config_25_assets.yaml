ibkr:
  host: "127.0.0.1"
  port: 7497
  client_id: 17
  account_paper: "DUK200445"
  account_live: ""
  market_mode: "delayed"
  timeframe: "1 day"
  start: "2015-01-01"
  end: null

# ============================================================================
# EXPANDED 25-ASSET UNIVERSE - INSTITUTIONAL GRADE
# ============================================================================
# Covers: US Equities, International, Bonds, Commodities, REITs, Crypto
# Diversification: Sectors, geographies, asset classes, risk profiles
# ============================================================================

universe: [
  # === US EQUITY INDICES (5) ===
  SPY,   # S&P 500 - Large Cap
  QQQ,   # Nasdaq-100 - Tech Heavy
  IWM,   # Russell 2000 - Small Cap
  DIA,   # Dow Jones - Blue Chips
  VTI,   # Total US Market
  
  # === SECTOR ETFS (6) ===
  XLE,   # Energy
  XLF,   # Financials
  XLV,   # Healthcare
  XLK,   # Technology
  XLI,   # Industrials
  XLY,   # Consumer Discretionary
  
  # === INTERNATIONAL EQUITIES (3) ===
  EFA,   # Developed Markets (Europe, Japan, etc.)
  EEM,   # Emerging Markets (China, India, Brazil, etc.)
  VWO,   # Emerging Markets (alternative)
  
  # === BONDS (5) ===
  TLT,   # 20+ Year Treasury (long duration)
  IEF,   # 7-10 Year Treasury (medium duration)
  SHY,   # 1-3 Year Treasury (short duration)
  BND,   # Total Bond Market
  HYG,   # High Yield Corporate (junk bonds)
  
  # === COMMODITIES (3) ===
  GLD,   # Gold
  SLV,   # Silver
  USO,   # Oil
  
  # === REAL ESTATE (2) ===
  VNQ,   # US REITs
  VNQI,  # International REITs
  
  # === CRYPTO (1) ===
  BITO   # Bitcoin Strategy
]

# ============================================================================
# SELECTION PARAMETERS - ADJUSTED FOR LARGER UNIVERSE
# ============================================================================

rebalance:
  schedule_et: "15:55"
  frequency: "daily"

costs:
  commission_per_share: 0.0035
  slippage_bps: 1.0

features:
  atr_window: 20
  ema_fast: 20
  ema_slow: 50
  macd:
    enabled: false
    fast: 12
    slow: 26
    signal: 9

selection:
  top_n: 5              # Increased from 2 to 5 (more assets = more positions)
  corr_window: 90       # 90-day correlation lookback
  corr_cap: 0.7         # Max 70% correlation (prevents over-concentration)
  min_score: 0.0        # No minimum score filter

weights:
  method: "inv_vol"              # Inverse-volatility weighting
  vol_window: 20                 # 20-day volatility calculation
  max_weight_per_asset: 0.30     # Reduced from 0.5 to 0.30 (more diversification)
  cash_buffer: 0.05              # Keep 5% in cash

backtest:
  seed: 42
  metrics: [CAGR, Sharpe, Calmar, MaxDD, PF, Turnover]

walkforward:
  train_years: 3
  oos_months: 3
  reoptimize:
    ema_fast: [10, 20, 30]
    ema_slow: [40, 50, 80]
    top_n: [3, 5, 7]              # Adjusted for larger universe
    corr_cap: [0.6, 0.7, 0.8]

permutation:
  runs: 200
  objective: "Calmar"

execution:
  live: false
  order_type: "MKT"
  limit_offset_bps: 2
  max_orders_per_day: 10          # Increased from 5 to 10 (more potential trades)

